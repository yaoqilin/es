<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>es6</title>
</head>
<body>

</body>
</html>
<script>
    /**
     * let声明变量（块级作用域）
     * var window全局变量
     * const 声明常量
      */

    var a = [];
    for (var index = 0; index < 10; index++){
        a[index] = function () {
            console.log(index); // index会向上查找a作用域的index值
        }
    }
    console.log(index); // 10
    a[5](); //10

    // let
    for(let index = 0; index < 10; index++){
        a[index] = function () {
            console.log(index);
        }
    }
    console.log(index); // 10
    a[5](); // 5
    /**
     * 字符串新增方法
     */
    let str = 'happy';
    console.log(str.includes('pp')); // true
    console.log(str.repeat(2)); // happyhappy
    console.log(str.startsWith('y',4)); // true, 参数2为查找的位置0~4
    console.log(str.endsWith('y',5)); // true, 参数2为查找的字符串长度1~5

    /**
     * 函数设置默认参数
      */
    // 键值对重名简写
    function people(name, age) {
        return {
            name,
            age
        }
    }
    // 对象字面量简写
    const people1 = {
        name: 'lala',
        getName () { // 省略冒号（：）和function关键字
            console.log(this.name);
        }
    };
    // 提供对象对象合并
    const obj1 = {
        a: 1
    };
    const obj = Object.assign({c: 2}, obj1);// Object.assign() 方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象
    console.log(obj);
    // 数据解构和rest参数
    // 对象解构
    const people2 = {
        name: 'es',
        age: 25
    };
    const { name, age } = people2; // 'es', 25
    // 数组解构
    const arr = [1,3,4];
    const [e, b, c] = arr; // 1,3,4
    console.log([e, b, c]);
    // rest参数，返回的是一个对象
    const obj2 = {
        a: 2,
        b: 3,
        c: 4,
        d: 5
    };
    const {d, ...rest} = obj2; //  2 { b: 3, c:4, d:5}
    console.log({d, ...rest});
    console.log({...rest});
    // 数据展开
    // 展开对象(和上面Object.assign()一样，也是对象合并)
    const obj3 = {a: 2,b: 3};
    console.log({...obj3,c: 5}); // {a 2, b:3, c: 5}
    // 展开数组
    const arr1 = [1,3,4];
    console.log([...arr1, 5]); // [1,3,4,5]

</script>